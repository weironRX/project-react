(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{6784:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients",function(){return n(8088)}])},8088:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return _}});var a=n(5893),s=(n(9424),n(6225),n(5485)),c=n(7837),l=n(7294),i=n(5143),r=n.n(i),u=t=>{let{client:e}=t,[n,i]=(0,l.useState)(e.alias),[u,o]=(0,l.useState)(e.contact),[h,d]=(0,l.useState)(!1),{isLoading:_,isError:m,data:p}=(0,c.a)(["change-client",h],async()=>s.y.update({alias:n,contact:u}));return(0,a.jsxs)("tr",{className:r().item,children:[(0,a.jsx)("th",{className:r().row,children:(0,a.jsx)("input",{className:r().input,type:"text",value:n,readOnly:!h,onChange:t=>i(t.target.value)})}),(0,a.jsx)("th",{children:(0,a.jsx)("input",{className:r().input,type:"text",value:u,readOnly:!h,onChange:t=>o(t.target.value)})}),(0,a.jsx)("button",{className:r().button,onClick:()=>d(t=>!t),children:h?"Сохранить":"Изменить"})]})},o=n(5750),h=n.n(o),d=n(2063),_=()=>{let[t,e]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),{isLoading:r,isError:o,data:_}=(0,c.a)(["clients",t,n],async()=>await s.y.getAllBySearch(t,n));return(0,a.jsxs)("div",{className:h().container,children:[(0,a.jsx)("aside",{className:h().aside,children:(0,a.jsx)(d.Z,{})}),(0,a.jsxs)("div",{className:h().table,children:[(0,a.jsx)("h1",{className:h().title,children:"Список клиентов"}),(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{className:h().table__head,children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:(0,a.jsx)("input",{className:h().input,placeholder:"Поиск",value:t,onChange:t=>e(t.target.value)})}),(0,a.jsx)("th",{children:(0,a.jsx)("input",{className:h().input,placeholder:"Поиск",value:n,onChange:t=>i(t.target.value)})})]})}),(0,a.jsx)("tbody",{children:_&&_.data.map(t=>(0,a.jsx)(u,{client:t}))})]})]})]})}},2063:function(t,e,n){"use strict";var a=n(5893),s=n(3674),c=n.n(s);e.Z=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("a",{className:c().button,href:"/",children:"Назад"})})},9424:function(t,e,n){"use strict";n.d(e,{U:function(){return i}});var a=n(9420),s=n(9097);let c={getProfile:async()=>(0,a.Z)({url:"".concat("users","/profile"),method:s.B.GET})};var l=n(7837);let i=()=>{let{data:t}=(0,l.a)(["get-profile"],async()=>{let t=await c.getProfile();return t.data});return{profile:t}}},6225:function(t,e,n){"use strict";n.d(e,{j:function(){return l}});var a=n(7294),s=n(6789),c=n(1163);let l=()=>{let{replace:t}=(0,c.useRouter)(),{user:e}=(0,s.a)();(0,a.useEffect)(()=>{e||t("/auth")},[e])}},5485:function(t,e,n){"use strict";n.d(e,{y:function(){return l}});var a=n(9420),s=n(9097);let c="client",l={getAll:async()=>await (0,a.Z)({url:"".concat(c),method:s.B.GET}),getAllBySearch:async(t,e)=>await (0,a.Z)({url:"".concat(c,"/search"),method:s.B.GET,params:{alias:String(t),contact:e}}),getByName:async t=>(0,a.Z)({url:"".concat(c,"/").concat(t),method:s.B.GET}),create:async t=>(0,a.Z)({url:"".concat(c),method:s.B.POST,data:t}),update:async t=>(0,a.Z)({url:"".concat(c),method:s.B.PUT,data:t})}},9097:function(t,e,n){"use strict";var a,s;n.d(e,{B:function(){return a}}),(s=a||(a={})).GET="GET",s.POST="POST",s.PUT="PUT",s.PATCH="PATCH",s.DELETE="DELETE"},5750:function(t){t.exports={table:"Clients_table__1T7vq",container:"Clients_container__2egIP",input:"Clients_input__1gIVS",table__head:"Clients_table__head__mG25K",title:"Clients_title__Ta9PT"}},5143:function(t){t.exports={item:"ClientsItem_item__AgQlj",row:"ClientsItem_row__688Gz",button:"ClientsItem_button__ONFHw",input:"ClientsItem_input__1WPX7"}},3674:function(t){t.exports={button:"BackButton_button__xhxh4"}}},function(t){t.O(0,[837,774,888,179],function(){return t(t.s=6784)}),_N_E=t.O()}]);