(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{7133:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/services",function(){return n(2058)}])},2058:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var s=n(5893),r=n(9424),a=n(6225),c=n(1468),i=n.n(c),u=n(8803),l=n(7837),o=n(7294),_=n(7185),d=n.n(_),h=e=>{let{service:t}=e,[n,r]=(0,o.useState)(t.name),[a,c]=(0,o.useState)(t.price),[i,_]=(0,o.useState)(!1),{isLoading:h,isError:m,data:x}=(0,l.a)(["change-service",i],async()=>u.m.update({name:n,price:a}));return(0,s.jsxs)("tr",{className:d().item,children:[(0,s.jsx)("th",{className:d().row,children:(0,s.jsx)("input",{className:d().input,type:"text",value:n,readOnly:!i,onChange:e=>r(e.target.value)})}),(0,s.jsx)("th",{children:(0,s.jsx)("input",{className:d().input,type:"text",value:a,readOnly:!i,onChange:e=>c(e.target.value)})}),(0,s.jsx)("button",{className:d().button,onClick:()=>_(e=>!e),children:i?"Сохранить":"Изменить"})]})},m=n(2063),x=()=>{let{isLoading:e,error:t,data:n}=(0,l.a)(["services"],async()=>{let e=await u.m.getAll();return e});return(0,s.jsxs)("div",{className:i().container,children:[(0,s.jsx)("aside",{children:(0,s.jsx)(m.Z,{})}),(0,s.jsxs)("div",{className:i().table,children:[(0,s.jsx)("h1",{className:i().title,children:"Услуги"}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:i().subtitle,children:"Вид Услуги"}),(0,s.jsx)("th",{className:i().subtitle,children:"Цена"})]})}),(0,s.jsx)("tbody",{children:n&&n.data.map(e=>(0,s.jsx)(h,{service:e}))})]})]})]})};let f=()=>{let{profile:e}=(0,r.U)();return(0,a.j)(),(0,s.jsx)(x,{})};f.isOnlyUser=!0;var v=f},2063:function(e,t,n){"use strict";var s=n(5893),r=n(3674),a=n.n(r);t.Z=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("a",{className:a().button,href:"/",children:"Назад"})})},9424:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var s=n(9420),r=n(9097);let a={getProfile:async()=>(0,s.Z)({url:"".concat("users","/profile"),method:r.B.GET})};var c=n(7837);let i=()=>{let{data:e}=(0,c.a)(["get-profile"],async()=>{let e=await a.getProfile();return e.data});return{profile:e}}},6225:function(e,t,n){"use strict";n.d(t,{j:function(){return c}});var s=n(7294),r=n(6789),a=n(1163);let c=()=>{let{replace:e}=(0,a.useRouter)(),{user:t}=(0,r.a)();(0,s.useEffect)(()=>{t||e("/auth")},[t])}},9097:function(e,t,n){"use strict";var s,r;n.d(t,{B:function(){return s}}),(r=s||(s={})).GET="GET",r.POST="POST",r.PUT="PUT",r.PATCH="PATCH",r.DELETE="DELETE"},8803:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});var s=n(9420),r=n(9097);let a="service",c={getAll:async()=>await (0,s.Z)({url:"".concat(a),method:r.B.GET}),getByName:async e=>(0,s.Z)({url:"".concat(a,"/").concat(e),method:r.B.GET}),create:async e=>(0,s.Z)({url:"".concat(a),method:r.B.POST,data:e}),update:async e=>(0,s.Z)({url:"".concat(a),method:r.B.PUT,data:e})}},1468:function(e){e.exports={container:"Services_container__5_6dE",main:"Services_main__nr59a",title:"Services_title__4f_5Y",table:"Services_table__SiB0Z",subtitle:"Services_subtitle__otw3R"}},7185:function(e){e.exports={item:"ServicesItem_item___OvtA",row:"ServicesItem_row__ZsV_w",button:"ServicesItem_button__A6SSx",input:"ServicesItem_input__cxEKN"}},3674:function(e){e.exports={button:"BackButton_button__xhxh4"}}},function(e){e.O(0,[837,774,888,179],function(){return e(e.s=7133)}),_N_E=e.O()}]);